{% extends "base.html.twig" %}
{% block contenu %}
    {% if form.valide1 and form.valide2 and form.valide3 is defined %}
    {% if form.valide1 and form.valide2 and form.valide3 == true %}
        <h1 class="h3 mb-3 font-weight-normal">{{ form.message }}</h1>
        <h1 class="h3 mb-3 font-weight-normal"><a href="index.php?page=listeTest">Retourner sur la liste des tests</a></h1>

    {% else %}
        <h1 class="alert alert-danger" role="alert">{{ form.message }}</h1>
        <h1 class="h3 mb-3 font-weight-normal"><a href="index.php?page=listeTest">Retourner sur la liste des tests</a></h1>

    {% endif %}
    {% else %}
    <div class="panel panel-default">
        <div class="panel-heading">Liste des tests</div>
        <h6 style="color:red"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Attention, supprimer un test supprimera aussi les questions et les scores associés <i class="fa fa-exclamation-triangle" aria-hidden="true"></i></h6>
        <div class="table-responsive">
            <table class="table table-hover table-striped">
                <tr><th>Nom</th><th>Date de création</th><th></th><th></th></tr>
                {% for t in liste %}

                <tr><td>{{t.nom}}</td>
                    <td>{{t.dateCreation|date('d/m/Y')}}</td>
                    <td><a href="index.php?page=modifTest&test={{t.id}}"><i class="fa fa-pencil" aria-hidden="true"></i></a></td>
                    <td><a href="index.php?page=listeTest&id={{ t.id }}"><i class="fa fa-trash-o" aria-hidden="true"></i></a></td>
                    {% endfor %}
            </table>
            {% set nb = form.nbpages %}

            <nav aria-label="Page navigation">
                <ul class="pagination">
                    <li>
                        <a href="index.php?page=listeTest&nopage={{ 0 }}" aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                    {% for i in 1..nb %}
                        <li><a href="index.php?page=listeTest&nopage={{ i-1 }}">{{ i }}</a></li>
                    {% endfor %}
                    <li>
                        <a href="index.php?page=listeTest&nopage={{ nb-1 }}" aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
    {% endif %}
{% endblock %}